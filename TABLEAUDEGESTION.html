<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord GOLD - Outil de Gestion Priv√©</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #121212; color: #E0E0E0; min-height: 100vh; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 850px; margin: 30px auto; background: #1E1E1E; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); }
        h1 { color: #FF0000; font-size: 2.5em; margin-bottom: 20px; border-bottom: 3px solid #FFD700; padding-bottom: 10px; }
        h2 { color: #FFD700; margin-top: 0; padding-bottom: 5px; font-size: 1.5em;}
        p { color: #B0B0D0; }
        .tool-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 30px; }
        .tool-card { background: #282828; padding: 25px; border-radius: 10px; text-align: left; border-left: 5px solid #FFD700; }
        .tool-card a { display: block; background: #FF0000; color: white; padding: 12px 0; border: none; border-radius: 5px; text-decoration: none; font-weight: bold; margin-top: 15px; text-align: center; transition: background 0.3s; }
        .tool-card a:hover { background: #cc0000; }
        #content-area { display: none; }
        #security-check { text-align: center; padding: 50px; background: #282828; }
        #security-check input { padding: 15px; margin: 15px 0; border-radius: 8px; border: 2px solid #555; background: #333; color: white; width: 80%; max-width: 300px; font-size: 1.1em; }
        #security-check button { padding: 12px 25px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: background 0.3s; }
        #security-check button:hover { background: #388E3C; }
        #security-result { margin-top: 15px; font-weight: bold; color: #FFD700; }
    </style>
</head>
<body>
    <div id="security-check" class="container">
        <h1>üîê Acc√®s S√©curis√© au Tableau de Bord</h1>
        <p>Acc√®s refus√©. Veuillez entrer le code mensuel pour d√©verrouiller cet outil de travail priv√©.</p>
        <input type="text" id="dashboard-code-input" placeholder="Code Mensuel (Ex: OCT2025)">
        <button onclick="checkDashboardCode()">D√©verrouiller</button>
        <div id="security-result"></div>
    </div>
    
    <div id="content-area" class="container">
        <h1>‚öôÔ∏è Espace de Travail - Gestion GOLD</h1>
        <p>C'est l'outil que vous avez obtenu pour 40‚Ç¨. Le maintien de cet acc√®s co√ªte seulement 10‚Ç¨/mois.</p>
        <div class="tool-grid">
            
            <div class="tool-card">
                <h2>ü•á 1. SITE DE COMMANDE CLIENT</h2>
                <p>Lien √† partager **UNIQUEMENT** √† vos abonn√©s pour qu'ils commandent leur stock hebdomadaire ou mensuel.</p>
                <a href="URL_DE_VOTRE_SITE_DE_COMMANDE_CLIENTS" target="_blank">OUVRIR LE FORMULAIRE DE COMMANDE</a> 
            </div>

            <div class="tool-card">
                <h2>üí∞ 2. SUIVI DES REVENUS & STOCK</h2>
                <p>Votre tableau de bord priv√© pour suivre qui a pay√© les 40‚Ç¨/10‚Ç¨ et g√©rer le stock garanti de chaque personne.</p>
                <a href="URL_DU_TABLEAU_DE_SUIVI_CLIENTS" target="_blank">OUVRIR MON TABLEAU DE SUIVI (PRIV√â)</a> 
            </div>

            <div class="tool-card" style="grid-column: span 2; border-left: 5px solid #4CAF50;">
                <h2>‚≠ê CODE D'ACC√àS DU MOIS :</h2>
                <p id="current-code" style="font-size: 2em; color: #4CAF50; font-weight: bold; margin: 10px 0;">OCT2025</p>
                <p style="font-size: 0.9em; color: #B0B0D0;">C'est le code que vous envoyez aux abonn√©s qui ont pay√© leurs 10‚Ç¨.</p>
            </div>

        </div> 
        <p style="margin-top: 40px; font-size: 0.9em; color: #999;">Cet acc√®s est li√© au paiement de votre abonnement de maintien de 10‚Ç¨.</p>
    </div>

    <script>
        // ####################################################################
        // ########## S√âCURIT√â DU TABLEAU DE BORD (LOGIQUE ACC√àS CASH) ########
        // ####################################################################
        const CORRECT_DASHBOARD_CODE = "OCT2025"; 
        
        function grantAccess() {
            document.getElementById('security-check').style.display = 'none';
            document.getElementById('content-area').style.display = 'block';
            localStorage.setItem('access_key_rbl', CORRECT_DASHBOARD_CODE);
        }

        function checkDashboardCode() {
            const inputElement = document.getElementById('dashboard-code-input');
            const resultElement = document.getElementById('security-result');
            const enteredCode = inputElement.value.toUpperCase().trim();

            if (enteredCode === CORRECT_DASHBOARD_CODE) {
                grantAccess();
            } else {
                resultElement.textContent = "Code Invalide ou Expir√©. Acc√®s refus√©.";
                resultElement.style.color = '#FF0000';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const urlKey = urlParams.get('key');
            const savedKey = localStorage.getItem('access_key_rbl');
            
            let accessGranted = false;

            // 1. V√âRIFICATION PAR LIEN (ACC√àS 'CASH' DEPUIS LE PORTAIL)
            if (urlKey && urlKey.toUpperCase() === CORRECT_DASHBOARD_CODE) {
                accessGranted = true;
                history.replaceState(null, '', window.location.pathname);
            } 
            
            // 2. V√âRIFICATION PAR M√âMOIRE LOCALE (ACC√àS DIRECT ou T√âL√âCHARGEMENT)
            else if (savedKey === CORRECT_DASHBOARD_CODE) {
                accessGranted = true;
            }

            if (accessGranted) {
                grantAccess();
            }
            document.getElementById('current-code').textContent = CORRECT_DASHBOARD_CODE;
        });
    </script>
</body>
</html>
